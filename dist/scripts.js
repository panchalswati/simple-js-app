const pokemonRepository = function () { const t = []; let e = "https://pokeapi.co/api/v2/pokemon/?limit=150"; document.querySelector("#modal-container"); function n(t, e) { t.addEventListener("click", function () { o(e) }) } function o(t) { a(t).then(function () { !function (t) { let e = $(".modal-title"), n = $(".modal-body"), o = $("<h2>" + t.name + "</h2>"), a = $("<p>Height: " + t.height + "</p>"), i = $("<p>Weight: " + t.weight + "</p>"), l = $("<img class='pokemon-modal-image'>"); l.attr("src", t.imageUrlFront); let c = $("<img class='pokemon-modal-image'>"); c.attr("src", t.imageUrlBack); let r = document.createElement("p"); t.types.forEach((e, n) => { n === t.types.length - 1 ? r.innerText += e.type.name : r.innerText += e.type.name + ", " }), e.empty(), n.empty(), e.append(o), n.append(l), n.append(c), n.append(a), n.append(i), n.append(r) }(t) }) } function a(t) { let e = t.detailsUrl; return fetch(e).then(function (t) { return t.json() }).then(function (e) { t.imageUrlFront = e.sprites.front_default, t.imageUrlBack = e.sprites.back_default, t.height = e.height, t.weight = e.weight, t.types = e.types }).catch(function (t) { console.error(t) }) } return add = (e => t.push(e)), getAll = (() => t), { add: add, getAll: getAll, addListItem: function (t) { const e = document.querySelector(".pokemon-list"), o = document.createElement("li"); o.classList.add("group-pokemon-list"); const a = document.createElement("button"); a.innerText = t.name, a.classList.add("highlights-name"), a.setAttribute("data-toggle", "modal"), a.setAttribute("data-target", "#pokemonModal"), o.append(a), e.append(o), n(a, t) }, showDetails: o, addEvent: n, loadList: function (t) { return fetch(e).then(function (t) { return t.json() }).then(function (t) { t.results.forEach(function (t) { let e = { name: t.name, detailsUrl: t.url }; add(e) }) }).catch(function (t) { console.error(t) }) }, loadDetails: a } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (t) { pokemonRepository.addListItem(t) }) });