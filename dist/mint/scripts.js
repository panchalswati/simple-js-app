const pokemonRepository=function(){const e=[],t=document.querySelector("#myInput"),n=document.getElementById("prevbtn"),o=document.getElementById("nextbtn");let i=null,l=null;function a(e){const t=document.querySelector(".pokemon-list"),n=document.createElement("li");n.classList.add("group-pokemon-list");const o=document.createElement("button");o.innerText=e.name,o.classList.add("highlights-name"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemonModal"),n.append(o),t.append(n),c(o,e)}function c(e,t){e.addEventListener("click",function(){r(t)})}function r(e){p(e).then(function(){!function(e){let t=$(".modal-title"),n=$(".modal-body"),o=$("<h2>"+e.name+"</h2>"),i=$("<p>Height: "+e.height+"</p>"),l=$("<p>Weight: "+e.weight+"</p>"),a=$("<img class='pokemon-modal-image'>");a.attr("src",e.imageUrlFront);let c=$("<img class='pokemon-modal-image'>");c.attr("src",e.imageUrlBack);let r=$("<p>Types: </p>"),p=document.createElement("p");e.types.forEach((t,n)=>{n===e.types.length-1?p.innerText+=t.type.name:p.innerText+=t.type.name+", "}),t.empty(),n.empty(),t.append(o),n.append(a),n.append(c),n.append(i),n.append(l),n.append(r)}(e)})}function p(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.weight=t.weight,e.types=t.types,e.nextButton=t.next,e.previousButton=t.previous}).catch(function(e){console.error(e)})}function s(e){return fetch(e).then(function(e){return e.json()}).then(function(e){i=e.previous,l=e.next,e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};add(t)})}).catch(function(e){console.error(e)})}function d(){document.querySelector(".pokemon-list").innerHTML="",e.length=0}return t.addEventListener("input",function(e){const t=e.target.value;document.querySelectorAll("li").forEach(e=>{e.innerText.toUpperCase().includes(t.toUpperCase())?e.style.display="block":e.style.display="none"})}),add=(t=>e.push(t)),getAll=(()=>e),n.addEventListener("click",function(e){null==i?n.disabled=!0:(d(),s(i).then(function(){getAll().forEach(function(e){a(e)})}))}),o.addEventListener("click",function(e){null==l?o.disabled=!0:(d(),s(l).then(function(){getAll().forEach(function(e){a(e)})}))}),{add:add,getAll:getAll,addListItem:a,showDetails:r,addEvent:c,loadList:s,loadDetails:p}}(),apiUrl="https://pokeapi.co/api/v2/pokemon/?limit=28";pokemonRepository.loadList(apiUrl).then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});